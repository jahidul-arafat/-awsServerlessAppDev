{"AWSTemplateFormatVersion":"2010-09-09","Description":"The AWS CloudFormation template for this Serverless application","Resources":{"ServerlessDeploymentBucket":{"Type":"AWS::S3::Bucket","Properties":{"BucketEncryption":{"ServerSideEncryptionConfiguration":[{"ServerSideEncryptionByDefault":{"SSEAlgorithm":"AES256"}}]}}},"ServerlessDeploymentBucketPolicy":{"Type":"AWS::S3::BucketPolicy","Properties":{"Bucket":{"Ref":"ServerlessDeploymentBucket"},"PolicyDocument":{"Statement":[{"Action":"s3:*","Effect":"Deny","Principal":"*","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::",{"Ref":"ServerlessDeploymentBucket"},"/*"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::",{"Ref":"ServerlessDeploymentBucket"}]]}],"Condition":{"Bool":{"aws:SecureTransport":false}}}]}}},"HelloLogGroup":{"Type":"AWS::Logs::LogGroup","Properties":{"LogGroupName":"/aws/lambda/aws-java-mvn-tryout-service-dev-hello"}},"IamRoleLambdaExecution":{"Type":"AWS::IAM::Role","Properties":{"AssumeRolePolicyDocument":{"Version":"2012-10-17","Statement":[{"Effect":"Allow","Principal":{"Service":["lambda.amazonaws.com"]},"Action":["sts:AssumeRole"]}]},"Policies":[{"PolicyName":{"Fn::Join":["-",["aws-java-mvn-tryout-service","dev","lambda"]]},"PolicyDocument":{"Version":"2012-10-17","Statement":[{"Effect":"Allow","Action":["logs:CreateLogStream","logs:CreateLogGroup"],"Resource":[{"Fn::Sub":"arn:${AWS::Partition}:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/lambda/aws-java-mvn-tryout-service-dev*:*"}]},{"Effect":"Allow","Action":["logs:PutLogEvents"],"Resource":[{"Fn::Sub":"arn:${AWS::Partition}:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/lambda/aws-java-mvn-tryout-service-dev*:*:*"}]}]}}],"Path":"/","RoleName":{"Fn::Join":["-",["aws-java-mvn-tryout-service","dev",{"Ref":"AWS::Region"},"lambdaRole"]]}}},"HelloLambdaFunction":{"Type":"AWS::Lambda::Function","Properties":{"Code":{"S3Bucket":{"Ref":"ServerlessDeploymentBucket"},"S3Key":"serverless/aws-java-mvn-tryout-service/dev/1670915598353-2022-12-13T07:13:18.353Z/hello-dev.jar"},"Handler":"com.serverless.Handler","Runtime":"java8","FunctionName":"aws-java-mvn-tryout-service-dev-hello","MemorySize":1024,"Timeout":6,"Role":{"Fn::GetAtt":["IamRoleLambdaExecution","Arn"]}},"DependsOn":["HelloLogGroup"]},"HelloLambdaVersionY82AZlF00JsinsGmi6eWn05MkAmMqPFoczVEMppbE":{"Type":"AWS::Lambda::Version","DeletionPolicy":"Retain","Properties":{"FunctionName":{"Ref":"HelloLambdaFunction"},"CodeSha256":"sfOwXXixQ4QhgBDHUbquA0QgDQ3flmTT1iYzEBs9xUc="}}},"Outputs":{"ServerlessDeploymentBucketName":{"Value":{"Ref":"ServerlessDeploymentBucket"},"Export":{"Name":"sls-aws-java-mvn-tryout-service-dev-ServerlessDeploymentBucketName"}},"HelloLambdaFunctionQualifiedArn":{"Description":"Current Lambda function version","Value":{"Ref":"HelloLambdaVersionY82AZlF00JsinsGmi6eWn05MkAmMqPFoczVEMppbE"},"Export":{"Name":"sls-aws-java-mvn-tryout-service-dev-HelloLambdaFunctionQualifiedArn"}}}}